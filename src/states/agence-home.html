<style>
  .calendar label {
    font-size: .8em;
    float: right;
    font-weight: normal;
    color: #213656;
  }

  .consultores_seleccinados_box {
    border: 1px solid #dddddd;
    margin-top: 22px;
    text-align: center;
    padding-top: 5px;
    padding-bottom: 5px;
    background: #f5f5f5;
    overflow-y: scroll;
    height: 200px
  }

  .consultores_seleccinados_box .badge {
    margin: 5px;
    background: #00467c;
    border-radius: 0px;
    padding: 4px;
  }

</style>
<uib-tabset active="active">
  <uib-tab index="0" heading="Por Consultor">
    <div class="panel panel-default" style="margin-top: 20px">
      <div class="panel-heading">
        <h3 class="panel-title">Ingresar Periodo</h3>
      </div>
      <div class="panel-body">
        <div class="row">
          <div class="col-xs-6">From</div>
          <div class="col-xs-6">To</div>
        </div>
        <div class="row calendar">
          <div class="col-xs-3">
            <label>Month</label>
            <select
              ng-change="periodo.onChangeFromMonthSelected()"
              class="form-control"
              ng-options="option.txt for option in periodo.from.calendar.months track by option.n"
              ng-model="periodo.from.monthSelected">
            </select>
          </div>
          <div class="col-xs-3">
            <label>Year</label>
             <select
              class="form-control"
              ng-change="periodo.onChangeFromYearSelected()"
              ng-options="option.txt for option in periodo.from.calendar.years track by option.n"
              ng-model="periodo.from.yearsSelected">
            </select>
          </div>
          <div class="col-xs-3">
            <label>Month</label>
            <select
              class="form-control"
              ng-options="option.txt for option in periodo.to.calendar.months track by option.n"
              ng-model="periodo.to.monthSelected">
            </select>
          </div>
          <div class="col-xs-3">
            <label>Year</label>
            <select
              ng-change="periodo.onChangeToYearSelected()"
              class="form-control"
              ng-options="option.txt for option in periodo.to.calendar.years track by option.n"
              ng-model="periodo.to.yearsSelected">
            </select>
          </div>
        </div>
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Selccionar consultorores</h3>
      </div>
      <div class="panel-body">
        <div class="row calendar">
          <div class="col-xs-4">
            <label>Selecciona un consultor</label>
            <select
              ng-change="selectMulti.onSelectItem()"
              class="form-control"
              ng-options="option.no_usuario for option in selectMulti.allNotSelected track by option.co_usuario"
              ng-model="selectMulti.selected">
            </select>
          </div>
          <div class="col-xs-8">
            <div class="consultores_seleccinados_box">
              <span class="badge" ng-repeat="option in selectMulti.allSelected track by option.co_usuario">
                {{option.no_usuario}}
                <button 
                  class="btn btn-danger btn-xs" 
                  ng-click="selectMulti.onRemoveSelected(option)">x</button>
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="panel-footer">
        <div class="btn-group" role="group" aria-label="...">
          <button type="button" class="btn btn-primary" ng-click="relatarioAction()">Relatario</button>
          <button type="button" class="btn btn-primary" ng-click="graficoAction()">Grafico</button>
          <button type="button" class="btn btn-primary" ng-click="pizzaAction()">Pizza</button>
        </div>
      </div>
    </div>

    <div class="panel panel-default" ng-show="panelControl.relatario">
      <div class="panel-heading">
        <h3 class="panel-title">Relatario</h3>
      </div>
      <div class="panel-body">
        <uib-tabset active="active">
          <uib-tab index="$index" ng-repeat="consultor in relatario.desempenos" heading="{{consultor.name}}" disable="consultor.disabled">
             <uib-tabset active="active" style="margin-top: 5px">
                <uib-tab index="$index" ng-repeat="year in consultor.years" heading="{{year.name}}" disable="year.disabled">
                  <table class="table table-bordered" style="margin-top: 20px">
                    <thead>
                      <th>Periodo</th>
                      <th>Receita Liquida</th>
                      <th>Custo Fixo</th>
                      <th>Comiss√£o</th>
                      <th>Lucro</th>
                    </thead>
                    <tbody>
                      <tr ng-repeat="month in year.months | orderBy:'name'">
                        <td>{{month.periodo}}</td>
                        <td>{{month.sum_receita_liquida}}</td>
                        <td>{{month.sum_custo_fixo}}</td>
                        <td>{{month.sum_comissao}}</td>
                        <td>{{month.sum_lucro}}</td>
                      </tr>
                      <tr style="color: white; background: #213656">
                        <td>Saldo</td>
                        <td>{{year.sum_receita_liquida}}</td>
                        <td>{{year.sum_custo_fixo}}</td>
                        <td>{{year.sum_comissao}}</td>
                        <td>{{year.sum_lucro}}</td>
                      </tr>
                    </tbody>
                  </table>
                </uib-tab>
            </uib-tabset>
            </div>
          </uib-tab>
        </uib-tabset>
      </div>
    </div>
    
    <div class="panel panel-default" ng-show="panelControl.grafico">
      <div class="panel-heading">
        <h3 class="panel-title" style="display: inline-block; margin-top: 14px">Grafico</h3>
        <div style="display: inline-block; float: right;">
           <select
            class="form-control"
            ng-change="graficoControl.onChangeGrafico()"
            ng-options="option.name for option in graficoControl.select track by option.id"
            ng-model="graficoControl.selected"></select>
        </div>
        <div class="clearfix"></div>
      </div>
      <div class="panel-body">
          <div class="col-xs-8 col-xs-offset-2">
            <canvas id="bar" class="chart chart-bar"
              chart-options="graficoControl.options"
              chart-data="graficoControl.grafico.data" 
              chart-series="graficoControl.grafico.labels"
              chart-labels="graficoControl.grafico.seriesName">
            </canvas>
            <div style="text-align: center;">
              <span style="background: red; color: red; font-size: .7em">00</span>
              <span>Custo Fixo Promedio:</span>
              <span>{{graficoControl.options.lineAt}}</span>
            </div>
          </div>
      </div>
    </div>

    <div class="panel panel-default" ng-show="panelControl.pizza">
      <div class="panel-heading">
        <h3 class="panel-title" style="display: inline-block; margin-top: 14px">Pizza</h3>
        <div style="display: inline-block; float: right;">
           <select
            class="form-control"
            ng-change="pizza.onChangeYear()"
            ng-options="option for option in pizza.years.all track by $index"
            ng-model="pizza.years.selected"></select>
        </div>
        <div style="display: inline-block; float: right;">
           <select
            class="form-control"
            ng-change="pizza.onChangeMonth()"
            ng-options="option.value for option in pizza.months.all track by option.id"
            ng-model="pizza.months.selected"></select>
        </div>
        <div class="clearfix"></div>
      </div>
      <div class="panel-body">
        <div class="col-xs-6 col-xs-offset-3">
          <canvas 
            class="chart chart-pie"
            chart-data="pizza.graficoMonth" 
            chart-options="pizza.options"
            chart-labels="pizza.grafico.labels">
          </canvas> 
        </div>
      </div>
    </div>

  </uib-tab>
</uib-tabset>